
---
å¦‚æœè¦æ‰“å¼€ä¸Šä¸‹æ–‡èœå•ï¼Œè¯·ä½¿ç”¨Â [Menu](https://docs.obsidian.md/Reference/TypeScript+API/Menu)ï¼š

```ts
import { Menu, Notice, Plugin } from "obsidian";

export default class ExamplePlugin extends Plugin {
  async onload() {
    this.addRibbonIcon("dice", "Open menu", (event) => {
      const menu = new Menu();

      menu.addItem((item) =>
        item
          .setTitle("Copy")
          .setIcon("documents")
          .onClick(() => {
            new Notice("Copied");
          })
      );

      menu.addItem((item) =>
        item
          .setTitle("Paste")
          .setIcon("paste")
          .onClick(() => {
            new Notice("Pasted");
          })
      );

      menu.showAtMouseEvent(event);
    });
  }
}
```

[showAtMouseEvent()](https://docs.obsidian.md/Reference/TypeScript+API/Menu/showAtMouseEvent)Â ä¼šæ‰“å¼€é¼ æ ‡ç‚¹å‡»å¤„çš„èœå•ã€‚


> [!TIP] 
> å¦‚æœéœ€è¦å¯¹èœå•æ˜¾ç¤ºçš„ä½ç½®è¿›è¡Œæ›´å¤šæ§åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨Â `menu.showAtPosition({ x: 20, y: 20 })`Â åœ¨Obsidiançª—å£å·¦ä¸Šè§’çš„ç›¸å¯¹ä½ç½®æ‰“å¼€èœå•ã€‚

æœ‰å…³å¯ä»¥ä½¿ç”¨å“ªäº›å›¾æ ‡çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…Â [Icons](https://docs.obsidian.md/Plugins/User+interface/Icons)ã€‚

æ‚¨è¿˜å¯ä»¥é€šè¿‡è®¢é˜…Â `file-menu`Â å’ŒÂ `editor-menu`Â å·¥ä½œåŒºäº‹ä»¶ï¼Œåœ¨æ–‡ä»¶èœå•æˆ–ç¼–è¾‘å™¨èœå•ä¸­æ·»åŠ é¡¹ç›®ï¼š
![[ä¸Šä¸‹æ–‡èœå•.png]]

```ts
import { Notice, Plugin } from "obsidian";

export default class ExamplePlugin extends Plugin {
  async onload() {
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        menu.addItem((item) => {
          item
            .setTitle("Print file path ğŸ‘ˆ")
            .setIcon("document")
            .onClick(async () => {
              new Notice(file.path);
            });
        });
      })
    );

  this.registerEvent(
      this.app.workspace.on("editor-menu", (menu, editor, view) => {
        menu.addItem((item) => {
          item
            .setTitle("Print file path ğŸ‘ˆ")
            .setIcon("document")
            .onClick(async () => {
              new Notice(view.file.path);
            });
        });
      })
    );
  }
}
```

æœ‰å…³å¤„ç†äº‹ä»¶çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…Â [Events](https://docs.obsidian.md/Plugins/Events)äº‹ä»¶ã€‚
