import{_ as s,c as i,o as a,V as n}from"./chunks/framework.qP9-rlTe.js";const o=JSON.parse('{"title":"åº“","description":"","frontmatter":{},"headers":[],"relativePath":"zh/plugins/vault.md","filePath":"zh/plugins/vault.md","lastUpdated":1705557346000}'),l={name:"zh/plugins/vault.md"},e=n(`<h1 id="åº“" tabindex="-1">åº“ <a class="header-anchor" href="#åº“" aria-label="Permalink to &quot;åº“&quot;">â€‹</a></h1><hr><p>Obsidianä¸­çš„æ¯ä¸ªç¬”è®°é›†åˆéƒ½ç§°ä¸º Vaultã€‚Vault ç”±ä¸€ä¸ªæ–‡ä»¶å¤¹åŠå…¶ä¸­çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹ç»„æˆã€‚</p><p>è™½ç„¶æ‚¨çš„æ’ä»¶å¯ä»¥åƒå…¶ä»– Node.js åº”ç”¨ç¨‹åºä¸€æ ·è®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼Œä½† <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/Vault" target="_blank" rel="noreferrer">Vault</a> æ¨¡å—èƒ½æ›´è½»æ¾åœ°å¤„ç† Vault ä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚</p><p>ä»¥ä¸‹ç¤ºä¾‹ä»¥é€’å½’æ–¹å¼æ‰“å° Vault ä¸­æ‰€æœ‰ Markdown æ–‡ä»¶çš„è·¯å¾„ï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> files</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.app.vault.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMarkdownFiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> files.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(files[i].path);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>[!NOTE]</p><p>å¦‚æœè¦åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼Œè€Œä¸ä»…ä»…æ˜¯ Markdown æ–‡æ¡£ï¼Œè¯·æ”¹ç”¨ <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/getFiles" target="_blank" rel="noreferrer">getFiles()</a>ã€‚</p></blockquote><h2 id="è¯»å–æ–‡ä»¶" tabindex="-1">è¯»å–æ–‡ä»¶ <a class="header-anchor" href="#è¯»å–æ–‡ä»¶" aria-label="Permalink to &quot;è¯»å–æ–‡ä»¶&quot;">â€‹</a></h2><p>æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è¯»å–æ–‡ä»¶çš„å†…å®¹ï¼šÂ <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/read" target="_blank" rel="noreferrer">read()</a>Â å’ŒÂ <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/cachedRead" target="_blank" rel="noreferrer">cachedRead()</a>ã€‚</p><ul><li>å¦‚æœåªæƒ³å‘ç”¨æˆ·æ˜¾ç¤ºå†…å®¹ï¼Œåˆ™ä½¿ç”¨Â <code>cachedRead()</code>Â ä»¥é¿å…å¤šæ¬¡ä»ç£ç›˜è¯»å–æ–‡ä»¶ã€‚</li><li>å¦‚æœè¦è¯»å–å†…å®¹ï¼Œæ›´æ”¹å†…å®¹ï¼Œç„¶åå°†å…¶å†™å›ç£ç›˜ï¼Œè¯·ä½¿ç”¨Â <code>read()</code>Â ä»¥é¿å…ä½¿ç”¨è¿‡æ—¶çš„å‰¯æœ¬è¦†ç›–æ–‡ä»¶ã€‚</li></ul><blockquote><p>[!NOTE]</p><p><code>read()</code>Â å’ŒÂ <code>cachedRead()</code>Â å”¯ä¸€åŒºåˆ«ä½“ç°åœ¨æ’ä»¶å³å°†è¯»å–æ–‡ä»¶ï¼Œè€Œæ–‡ä»¶åœ¨ Obsidian å¤–è¢«ä¿®æ”¹äº†çš„æ—¶å€™ã€‚å½“æ–‡ä»¶ç³»ç»Ÿé€šçŸ¥ Obsidian æ–‡ä»¶åœ¨å¤–éƒ¨è¢«ä¿®æ”¹ï¼ŒÂ <code>cachedRead()</code>Â æ–¹æ³•å°±ä¼šè¡¨ç°å¾—Â <em>å®Œå…¨</em>Â ä¸Â <code>read()</code>Â æ–¹æ³•ä¸€æ ·ã€‚åŒæ ·çš„ï¼Œå¦‚æœæ‚¨åœ¨ Obsidian å†…ä¿å­˜äº†æ–‡ä»¶ï¼Œé‚£ä¹ˆè¯»å–ç¼“å­˜ä¹Ÿä¼šè¢«åˆ·æ–°ã€‚</p></blockquote><p>ä»¥ä¸‹ç¤ºä¾‹è¯»å– Vault ä¸­æ‰€æœ‰ Markdown æ–‡ä»¶çš„å†…å®¹ï¼Œå¹¶è¿”å›å¹³å‡æ–‡æ¡£å¤§å°ï¼š</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Notice, Plugin } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;obsidian&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExamplePlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addRibbonIcon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;info&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Calculate average file length&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fileLength</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">averageFileLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Notice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`The average file length is \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fileLength</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} characters.\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> averageFileLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">vault</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.app;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fileContents</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      vault.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMarkdownFiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vault.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cachedRead</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> totalLength </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fileContents.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      totalLength </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> content.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> totalLength </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fileContents.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="ä¿®æ”¹æ–‡ä»¶" tabindex="-1">ä¿®æ”¹æ–‡ä»¶ <a class="header-anchor" href="#ä¿®æ”¹æ–‡ä»¶" aria-label="Permalink to &quot;ä¿®æ”¹æ–‡ä»¶&quot;">â€‹</a></h2><p>è‹¥è¦å°†æ–‡æœ¬å†…å®¹å†™å…¥ç°æœ‰æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨Â <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/modify" target="_blank" rel="noreferrer">Vault.modify()</a> ã€‚</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> writeCurrentDate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vault</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vault</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vault.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">modify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`Today is \${</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Intl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DateTimeFormat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">())</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å¦‚æœè¦æ ¹æ®æ–‡ä»¶çš„å½“å‰å†…å®¹ä¿®æ”¹æ–‡ä»¶ï¼Œè¯·æ”¹ç”¨ <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/process" target="_blank" rel="noreferrer">Vault.process()</a>Â ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯æä¾›å½“å‰æ–‡ä»¶å†…å®¹å¹¶è¿”å›ä¿®æ”¹åçš„å†…å®¹çš„å›è°ƒã€‚</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// emojify replaces all occurrences of :) with ğŸ™‚.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> emojify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">vault</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vault</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vault.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">process</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;:)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ğŸ™‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>Vault.process()</code>Â æ˜¯ <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/read" target="_blank" rel="noreferrer">Vault.read()</a>Â  å’Œ <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/modify" target="_blank" rel="noreferrer">Vault.modify()</a> ä¹‹ä¸Šçš„æŠ½è±¡ï¼Œå¯ä¿è¯æ–‡ä»¶åœ¨è¯»å–å½“å‰å†…å®¹å’Œå†™å…¥æ›´æ–°å†…å®¹ä¹‹é—´ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚å§‹ç»ˆé¦–é€‰Â <code>Vault.process()</code>ä¼˜äºÂ <code>Vault.read()</code>Â /Â <code>Vault.modify()</code>Â ä»¥é¿å…æ„å¤–ä¸¢å¤±æ•°æ®ã€‚</p><h3 id="å¼‚æ­¥ä¿®æ”¹" tabindex="-1">å¼‚æ­¥ä¿®æ”¹ <a class="header-anchor" href="#å¼‚æ­¥ä¿®æ”¹" aria-label="Permalink to &quot;å¼‚æ­¥ä¿®æ”¹&quot;">â€‹</a></h3><p><a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/process" target="_blank" rel="noreferrer">Vault.process()</a>Â  ä»…æ”¯æŒåŒæ­¥ä¿®æ”¹ã€‚å¦‚æœéœ€è¦å¼‚æ­¥ä¿®æ”¹æ–‡ä»¶ï¼š</p><ol><li>ä½¿ç”¨Â <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/cachedRead" target="_blank" rel="noreferrer">Vault.cachedRead()</a> è¯»å–æ–‡ä»¶ã€‚</li><li>æ‰§è¡Œå¼‚æ­¥æ“ä½œã€‚</li><li>ä½¿ç”¨Â <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/process" target="_blank" rel="noreferrer">Vault.process()</a> æ›´æ–°æ–‡ä»¶ã€‚</li></ol><p>è®°å¾—æ£€æŸ¥Â <code>process()</code>Â å›è°ƒä¸­çš„æ•°æ®æ˜¯å¦ä¸ Â <code>cachedRead()</code> è¿”å›çš„æ•°æ®ç›¸åŒÂ ã€‚å¦‚æœå®ƒä»¬ä¸ç›¸åŒï¼Œåˆ™æ„å‘³ç€æ–‡ä»¶å·²ç”±ä¸åŒçš„è¿›ç¨‹æ›´æ”¹ï¼Œæ‚¨å¯èƒ½éœ€è¦è¦æ±‚ç”¨æˆ·ç¡®è®¤æˆ–é‡è¯•ã€‚</p><h2 id="åˆ é™¤æ–‡ä»¶" tabindex="-1">åˆ é™¤æ–‡ä»¶ <a class="header-anchor" href="#åˆ é™¤æ–‡ä»¶" aria-label="Permalink to &quot;åˆ é™¤æ–‡ä»¶&quot;">â€‹</a></h2><p>æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åˆ é™¤æ–‡ä»¶ï¼š<a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/delete" target="_blank" rel="noreferrer">delete()</a> å’Œ <a href="https://docs.obsidian.md/Reference/TypeScript+API/Vault/trash" target="_blank" rel="noreferrer">trash()</a>ã€‚æ‚¨åº”è¯¥ä½¿ç”¨å“ªä¸€ä¸ªå–å†³äºæ‚¨æ˜¯å¦è¦å…è®¸ç”¨æˆ·æ”¹å˜ä¸»æ„ã€‚</p><ul><li><code>delete()</code>Â åˆ é™¤æ–‡ä»¶è€Œä¸å¯æ¢å¤ã€‚</li><li><code>trash()</code>Â å°†æ–‡ä»¶ç§»è‡³åƒåœ¾ç®±ã€‚</li></ul><p>ä½¿ç”¨Â <code>trash()</code>Â æ—¶ï¼Œæ‚¨å¯ä»¥é€‰æ‹©å°†æ–‡ä»¶ç§»åŠ¨åˆ°ç³»ç»Ÿçš„åƒåœ¾ç®±ï¼Œæˆ–ç§»åŠ¨åˆ°ç”¨æˆ· Vault æ ¹ç›®å½•ä¸‹çš„æœ¬åœ°Â <code>.trash</code>Â æ–‡ä»¶å¤¹ã€‚</p><h2 id="æ˜¯æ–‡ä»¶è¿˜æ˜¯æ–‡ä»¶å¤¹" tabindex="-1">æ˜¯æ–‡ä»¶è¿˜æ˜¯æ–‡ä»¶å¤¹ï¼Ÿ <a class="header-anchor" href="#æ˜¯æ–‡ä»¶è¿˜æ˜¯æ–‡ä»¶å¤¹" aria-label="Permalink to &quot;æ˜¯æ–‡ä»¶è¿˜æ˜¯æ–‡ä»¶å¤¹ï¼Ÿ&quot;">â€‹</a></h2><p>æŸäº›æ“ä½œè¿”å›æˆ–æ¥å—Â <a href="https://docs.obsidian.md/Reference/TypeScript+API/TAbstractFile" target="_blank" rel="noreferrer">TAbstractFile</a>Â å¯¹è±¡ ï¼Œè¯¥å¯¹è±¡å¯ä»¥æ˜¯æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚ä½¿ç”¨å‰åŠ¡å¿…æ£€æŸ¥Â <code>TAbstractFile</code>Â ç±»å‹ã€‚</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> folderOrFile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.app.vault.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAbstractFileByPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;folderOrFile&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (folderOrFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;It&#39;s a file!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (folderOrFile </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TFolder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;It&#39;s a folder!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,30),h=[e];function t(p,k,r,d,E,g){return a(),i("div",null,h)}const y=s(l,[["render",t]]);export{o as __pageData,y as default};
